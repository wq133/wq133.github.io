---
layout: post
title: 面试规划
subtitle: ...
date: 2024-01-18
author: Wu
header-img: ../article_img/kb_1.jpg
catalog: true
tags:
  - Java
  - 面试
---
## 0、面试投递

打招呼用语：
您好，我想应聘您公司的Java开发工程师，学历本科，目前是三年的工作经验了，我熟悉常见设计模式，熟悉Spring、SpringMVC、SpringBoot、SpringCloud框架，使用过多种中间件Gateway、Nacos、OpenFeign等，有Devops的经验，适应敏捷开发模式，具体细节已附上简历，麻烦您回复下消息，我把简历发给您。祝您生活愉快。


## 一、简历项目部分
### 项目描述

我主要负责的就是埋点数据的统计和数据的处理。

可能会问？

数据的并发（如何处理？）、加锁优化、统计表设计、实际需求分析（是否要求统计折线图、饼图？或其他类型需求）

### QPS的问题？
拿秒杀活动的预期QPS举例计算，我们需要考虑以下几个因素：

1. **活动持续时间**：秒杀活动持续多长时间？例如，持续1小时、半小时或更短的时间。

2. **活动期间每个客户的请求频率**：在活动期间，每个潜在客户的请求频率。这通常会比平时高很多，因为他们会不断刷新页面或尝试购买商品。

3. **系统能够处理的最大请求量**：系统的处理能力，即系统能够每秒处理的最大请求数量。

给定上述信息，我们可以计算秒杀活动的预期QPS。假设秒杀活动持续1小时，潜在客户的请求频率为10次/秒，系统能够处理的最大请求数量为1000次/秒。

那么预期的QPS可以计算如下：
预期QPS=潜在客户量×每个客户的请求频率预期QPS = 潜在客户量×每个客户的请求频率

这表示在秒杀活动期间，预计系统会在每秒处理60个请求。

实际的QPS可能会受到许多其他因素的影响，例如网络延迟、并发请求处理时间等。因此，在设计和准备秒杀活动时，需要进行合理的压力测试和容量规划，以确保系统能够承受活动期间的高并发访问。

### 服务器选择部分？

这里按照中小型企业的服务器的配置部署微服务，以下是一些通用的建议和推荐的服务器配置：

1. **CPU**：至少使用具有多核心的CPU，以确保能够处理多个并发请求。对于中小型企业来说，通常选择 4 核心或 8 核心的 CPU 是合适的。

2. **内存**：微服务架构通常需要大量的内存来存储服务之间的通信数据、缓存数据等。建议至少配置 16GB 或更多的内存，以确保足够的内存可供服务使用。

3. **存储**：选择高速、可靠的存储设备，如 SSD（固态硬盘），以提高服务的读写性能。对于中小型企业来说，通常配置 500GB 或 1TB 的 SSD 存储是合适的。

4. **网络**：确保服务器具有高速、稳定的网络连接，以便服务之间能够快速进行通信。选择支持千兆以太网的网络接口，以确保足够的带宽和网络性能。

5. **操作系统**：选择稳定、安全的操作系统，如 CentOS、Ubuntu 等。对于微服务架构来说，Linux 操作系统通常是首选，因为它具有良好的性能和稳定性，并且可以轻松部署和管理 Docker 容器等。

6. **容器化平台**：考虑使用容器化平台（如 Docker、Kubernetes 等）来部署和管理微服务。容器化可以提高部署的灵活性和可靠性，同时也能够更高效地利用服务器资源。

7. **监控与管理工具**：选择适合的监控与管理工具，用于监控服务器的性能、资源利用率、服务状态等。常见的监控与管理工具包括 Prometheus、Grafana、ELK Stack（Elasticsearch、Logstash、Kibana）等。

8. **备份与容灾**：配置定期的数据备份和容灾方案，以确保数据的安全性和可靠性。可以考虑使用自动化备份工具和云存储服务来简化备份和恢复过程。

按照4核8G的配置，网络默认企业级千兆。
QPS计算：每分钟请求数量/60；
在性能优化的情况下，这样的服务器可以支撑高达5万QPS（每秒查询率），这是在压力测试QPS不低于3万、数据库负载不超过50%、服务器负载不超过70%、单次请求时长不超过70ms、错误率不超过5%的条件下实现的。

RPC（远程过程调用）和 HTTP 的分布式系统
两种不同的远程通信机制
1. **通信协议**：

- **RPC**：RPC 是一种基于二进制的通信协议，通常使用自定义的协议栈，如 Dubbo、gRPC 等，它们在网络传输时效率更高，适用于高性能的远程调用。
- **HTTP**：HTTP 是一种基于文本的通信协议，通常使用 JSON 或 XML 等文本格式进行数据传输，虽然易于阅读和调试，但相对于二进制协议，效率较低。
2. **数据序列化**：
- **RPC**：RPC 框架通常使用二进制序列化来传输数据，可以更高效地使用网络带宽和解析数据，如 Protobuf、Thrift 等。
- **HTTP**：基于 HTTP 的通信通常使用文本格式（如 JSON、XML）进行数据传输，数据量较大，解析和序列化效率相对较低。
3. **使用场景**：
- **RPC**：RPC 适用于需要高性能和低延迟的场景，如微服务架构、分布式系统中的服务间通信等。
- **HTTP**：HTTP 适用于各种类型的分布式系统，包括基于 RESTful 架构的 Web 服务、前后端通信、跨域通信等。
4. **可用性和容错**：
- **RPC**：RPC 框架通常集成了丰富的容错机制，如负载均衡、熔断器、重试机制等，可以提高系统的可用性和容错能力。
- **HTTP**：基于 HTTP 的分布式系统也可以实现一定程度的容错和重试机制，但通常需要自行实现或借助其他组件。
5. **技术栈和生态系统**：
- **RPC**：RPC 框架通常有着独立的技术栈和生态系统，提供了丰富的功能和工具支持，如 Dubbo、gRPC 等。
- **HTTP**：基于 HTTP 的分布式系统更加通用，可以使用各种语言和框架进行开发，有着更广泛的技术栈和生态系统。


### 延伸八股
Mysql的查询百万级数据优化
Mysql主从复制流程？原理？
数据库 IO数据库的Page页原理
Redis分布式锁实现方案有几种
QPS问题如何回答？[参考](https://www.jianshu.com/p/1a177dfd40cb)


MQ幂等性问题？
2.MQ使用在哪个功能上


公司自研框架问题
- 构成：一些自定义的配置注入（比如跨域配置、拦截器、还有Redis分布式锁、过期时间控制注解）

**发送一个请求流程**
正则匹配解决员工多部门匹配多部门可见范围。
**微信支付流程**








## 二、技术八股总结
### [2024-01-20-Java基础知识](2024-01-20-Java基础知识.md)
### 21Java集合
### 22Java并发编程 
### 23JavaIO流

24JavaJVM

25 框架
### 26Mysql
Redis
MQ
分布式原理和解决方案
网络协议
Linux、Docker操作
Nginx配置

## 三、实操工作部分-延伸操作
Stream流用法

常用设计模式

算法


## 四、团队配合经验

1.跟产品经理配合确认设计方案，是否可行，设计模式设计。
2.跟项目经理配合确认项目排期划分，模块复杂程度，模块排期。
3.跟前端同学确认返回数据类型，确认返回字段值，确认返回字段意义类型Apifox。
4.跟后端同时确认开发接口，后端开发设计模式，确认分支，哪块代码为什么要这样写，代码提交配合。

